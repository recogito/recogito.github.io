<!DOCTYPE html>
<html>
  <head>
    <title>Annotorious | Headless Mode</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
      
    <link rel="stylesheet" href="/css/style.min.57d305ffd967cc4df45de9ab7aea352dae12aa79ce41a82db49e9f1e420dac7c.css">
    <meta name="description" content="A Guide to Headless Mode, which allows you to use Annotorious without the editor popup.">
<meta name="twitter:title" content="Using Headless Mode" />
<meta name="twitter:image:src" content="https://recogito.github.io/images/annotorious-social-large.png" />
<meta name="twitter:site" content="@aboutgeo" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="A Guide to Headless Mode, which allows you to use Annotorious without the editor popup.">
<meta property="og:title" content="Using Headless Mode" />
<meta property="og:description" content="A Guide to Headless Mode, which allows you to use Annotorious without the editor popup.">
<meta property="og:url" content="https://recogito.github.io/guides/using-headless-mode" />
<meta property="og:image" content="https://recogito.github.io/images/annotorious-social-large.png" />
<meta property="og:type" content="object" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@recogito/annotorious-openseadragon@2.2.1/dist/annotorious.min.css"></script>
  </head>

  <body>
    <div id="navbar" class="navbar">
  <script>
    var openResponsiveMenu = function() {
      var el = document.getElementById('navbar');
      if (el.className === 'navbar') {
        el.className = 'navbar responsive';
      } else {
        el.className = 'navbar';
      }
    };
  </script>
  <header>
    <div class="mobile-only">
      <button class="hamburger-icon" id="open-responsive-menu" onclick="openResponsiveMenu()">
        <img src="/images/menu-24px.svg">
      </button>      
    </div>
    <ul>
      <li>
        <a href="/annotorious/">Home</a>
      </li>

      <li class=''>
        <a href="/annotorious/getting-started">Getting Started</a>
      </li>

      <li class=''>
        <a href="/annotorious/api-docs">API Docs</a>
      </li>
      
      <li class='current'>
        <a href="/guides">Guides</a>
      </li>
      
      <li class=''>
        <a href="/annotorious/about">About</a>
      </li>
      
      <li class="github"><a href="https://github.com/recogito/annotorious"><img src="/images/github-logo.svg"></a></li>
    </ul>
  </header>
</div>

    <div class="column">
      <div class="main-content">
        <h1 id="headless-mode-using-annotorious-without-the-editor-popup">Headless Mode: Using Annotorious without the Editor Popup</h1>
<p>Need only the drawing tools? But not need the editor? That&rsquo;s what
<strong>headless mode</strong> is there for!</p>
<p>With headless mode, you keep all the standard functionality: drawing
and editing shapes, JavaScript API, lifecycle events. But you can build
your own user interface, without being forced to the standard
Annotorious editor popup.</p>
<p>Demo coming soon&hellip;</p>
<h2 id="the-headless-api">The Headless API</h2>
<p>To use Annotorious without the editor popup, the following API options are
most important:</p>
<ul>
<li><code>disableEditor</code>, a config option and instance field to switch headless mode
on and off</li>
<li>the <code>createSelection</code> event, which fires when the user has created a new selection</li>
<li><code>updateSelected</code>, an API method for modifying annotation bodies programmatically</li>
<li><code>saveSelected</code>, an API method that provides a programmatic way to save an (updated)
annotation</li>
</ul>
<h3 id="disableeditor">disableEditor</h3>
<p>Coming soon&hellip;</p>
<h3 id="createselection">createSelection</h3>
<p>Coming soon&hellip;</p>
<h3 id="updateselected-and-saveselected">updateSelected and saveSelected</h3>
<p>updateSelected and saveSelected</p>
<h2 id="code-example">Code Example</h2>
<p>This minimal example:</p>
<ul>
<li>activates headles mode on init</li>
<li>attaches a <code>createSelection</code> listener which inserts a (hard-coded) tag into new selections</li>
<li>saves the annotation</li>
</ul>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#268bd2">var</span> anno <span style="color:#719e07">=</span> Annotorious.init({
  image<span style="color:#719e07">:</span> <span style="color:#2aa198">&#39;hallstatt&#39;</span>,
  locale<span style="color:#719e07">:</span> <span style="color:#2aa198">&#39;auto&#39;</span>,

  <span style="color:#586e75">// Important: this switches Annotorious 
</span><span style="color:#586e75"></span>  <span style="color:#586e75">// to headless mode!
</span><span style="color:#586e75"></span>  disableEditor<span style="color:#719e07">:</span> <span style="color:#cb4b16">true</span>
});

anno.on(<span style="color:#2aa198">&#39;createSelection&#39;</span>, <span style="color:#268bd2">async</span> <span style="color:#268bd2">function</span>(selection) {
  <span style="color:#586e75">// When the user creates a selection, insert this tag
</span><span style="color:#586e75"></span>  selection.body <span style="color:#719e07">=</span> [{
    type<span style="color:#719e07">:</span> <span style="color:#2aa198">&#39;TextualBody&#39;</span>,
    purpose<span style="color:#719e07">:</span> <span style="color:#2aa198">&#39;tagging&#39;</span>,
    value<span style="color:#719e07">:</span> <span style="color:#2aa198">&#39;MyTag&#39;</span>
  }];

  <span style="color:#586e75">// Remember that .updateSelected is an async function!
</span><span style="color:#586e75"></span>  <span style="color:#268bd2">await</span> anno.updateSelected(selection);
  anno.saveSelected();

  <span style="color:#586e75">// Alternative:
</span><span style="color:#586e75"></span>  <span style="color:#586e75">// anno.updateSelected(selection, true); // Saves immediately
</span><span style="color:#586e75"></span>});
</code></pre></div>
      </div>

      <div class="table-of-contents subsections">
        <nav>
          <ul>
            <li><a href="http://recogito.github.io/guides/">Guides</a></li>
            <li>
              <ul>
                
                
                  <li>
                    
                      <a href="http://recogito.github.io/guides/configuring-the-editor/">Configuring the Editor</a>
                    
                  </li>
                
                  <li>
                    
                      <a href="http://recogito.github.io/guides/customizing-styles/">Customizing Styles</a>
                    
                  </li>
                
                  <li>
                    
                      <a href="http://recogito.github.io/guides/headless-mode/" class="active">Headless Mode</a>
                    
                  </li>
                
                  <li>
                    
                      <a href="http://recogito.github.io/guides/using-firebase-for-storage/">Firebase Storage Plugin</a>
                    
                  </li>
                
                  <li>
                    
                      <a href="http://recogito.github.io/guides/editor-widgets/">Writing Editor Widgets</a>
                    
                  </li>
                
                  <li>
                    
                      <a href="http://recogito.github.io/guides/contributing-ui-translations/">Contributing Translations</a>
                    
                  </li>
                
                  <li>
                    
                      <a href="http://recogito.github.io/guides/hackers-guide/">Hacker&#39;s Guide</a>
                    
                  </li>
                
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </div>
    
    <footer>
  <div class="inner">
    <p>Licensed under the <a href="https://github.com/recogito/annotorious/blob/master/LICENSE">BSD License</a></p>
    <p>Need help? Contact us via the <a href="https://gitter.im/recogito/annotorious" class="no-break">Annotorious Gitter Chat</a></p>
    <p>Want to help improve documentation? <a href="https://github.com/recogito/project-website-source">Fork this website</a> and send us a pull request!</p>
    <p class="github-link">
      <a href="https://github.com/recogito/annotorious"><img src="/images/github-logo.svg"></a>
      <a href="https://github.com/recogito/annotorious">github.com/recogito</a> 
    </p>
  </div>
</footer>
  </body>
</html>